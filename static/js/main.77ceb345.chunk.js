(this.webpackJsonpdeep_t2i_web=this.webpackJsonpdeep_t2i_web||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/loading.c25f5003.svg"},32:function(e,t,a){e.exports=a(45)},37:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),i=(a(37),a(38),a(7)),u=a(10),o=a(31),s=a(29),h=a(22),m=a(17),d=a(23),b=a(6),p=a(9),E=a(30),f=a(18),g=a(21),y=a.n(g),w=a(26),v="mock",k="dev",j="prod",O=function(){var e=Object(w.a)(y.a.mark((function e(t,a,n){var r,l,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",e.t0="prod",e.next=e.t0===v?4:e.t0===k?5:e.t0===j?7:9;break;case 4:return e.abrupt("return",Promise.resolve("".concat("/deep_t2i_web","/").concat(a,"_mock.jpg")));case 5:return r="http://127.0.0.1:5000/entry",e.abrupt("break",10);case 7:return r="https://us-central1-play-263208.cloudfunctions.net/deep_t2i_server/entry",e.abrupt("break",10);case 9:throw Error("No such server: ".concat("prod"));case 10:return l={token:t,mode:a,cap:n},e.next=13,fetch(r,{method:"POST",body:JSON.stringify(l),headers:new Headers({"Content-Type":"application/json"})});case 13:if(!(c=e.sent).ok){e.next=20;break}return e.next=17,c.text();case 17:return e.abrupt("return",e.sent);case 20:return e.t1=Error,e.next=23,c.text();case 23:throw e.t2=e.sent,(0,e.t1)(e.t2);case 25:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),x=a(27),_=a.n(x),C="init",S="loading",A="success",N="fail",B=function(e){var t=e.state,a=e.url,n=e.errorMsg;switch(t){case C:return r.a.createElement("div",null);case S:return r.a.createElement(h.a,{src:_.a,height:"256",width:"256"});case A:return r.a.createElement(h.a,{src:a,height:"256",width:"256"});case N:return r.a.createElement(E.a,{variant:"danger"},n);default:return r.a.createElement("div",null)}},G=function(e){var t=e.mode,a=e.cap,l=Object(n.useRef)(null),c=Object(n.useState)(null),h=Object(u.a)(c,2),m=h[0],d=h[1],p=Object(n.useState)({state:"init",url:"",errorMsg:""}),E=Object(u.a)(p,2),f=E[0],g=E[1],y=function(){return null===m||f.state===S};return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(o.a,{ref:l,sitekey:"6Lcb_fUUAAAAADgVNuvS161lQDZKs8G62lnBYqLN",onChange:function(e){return d(e)}}),r.a.createElement(s.a,{className:"btn-block",variant:"primary",type:"button",disabled:y(),onClick:function(){g(Object(i.a)(Object(i.a)({},f),{},{state:S})),O(m,t,a).then((function(e){g(Object(i.a)(Object(i.a)({},f),{},{state:A,url:e}))})).catch((function(e){g(Object(i.a)(Object(i.a)({},f),{},{state:N,errorMsg:e.message}))})).finally((function(){null!==l&&null!==l.current&&l.current.reset(),d(null)}))}},y()?"Please Click Recaptcha":"Get Image")),r.a.createElement(b.a,null,r.a.createElement(B,f)))},I=function(){var e=["orange hair","white hair","aqua hair","gray hair","green hair","red hair","purple hair","pink hair","blue hair","black hair","brown hair","blonde hair"],t=["black eyes","orange eyes","purple eyes","pink eyes","yellow eyes","aqua eyes","green eyes","brown eyes","red eyes","blue eyes"],a=Object(n.useState)(e[0]),l=Object(u.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(t[0]),s=Object(u.a)(o,2),h=s[0],E=s[1];return r.a.createElement(d.a,null,r.a.createElement(b.a,null,r.a.createElement("h2",null,"Anime Face")),r.a.createElement(b.a,null,r.a.createElement("h4",null,"Generate an anime face by machine. You can specify hair and eye color.")),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(m.a.Control,{as:"select",onChange:function(e){return i(e.target.value)}},e.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement(p.a,null,r.a.createElement(m.a.Control,{as:"select",onChange:function(e){return E(e.target.value)}},t.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement(G,{mode:"anime_heads",cap:"".concat(c," ").concat(h)}))},M=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1];return r.a.createElement(d.a,null,r.a.createElement(b.a,null,r.a.createElement("h2",null,"Birds")),r.a.createElement(b.a,null,r.a.createElement("h4",null,"Generate a bird by machine. You can specify any string that describe a bird.")),r.a.createElement(b.a,null,r.a.createElement(m.a.Control,{as:"textarea",rows:"2",placeholder:"Please input a string that describe a bird",value:a,onChange:function(e){return l(e.target.value)}})),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(f.a.Item,{key:-1,disabled:!0},"Examples:"),["this bird has a white breast and crown, yellow bill and black tipped primaries.","this brown and white bird has a large wingspan and an orange bill.","this bird is flying through the air and has a large wing span.","this is a white bird with a grey cheek patch and a black eyebrow.","his bird is white and brown in color, with a long curved beak."].map((function(e,t){return r.a.createElement(f.a.Item,{key:t,action:!0,value:e,onClick:function(e){return l(e.target.value)}},e)}))))),r.a.createElement(G,{mode:"birds",cap:a}))};var P=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Deep_t2i simple demo site"),r.a.createElement("hr",null),r.a.createElement(I,null),r.a.createElement("hr",null),r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.77ceb345.chunk.js.map