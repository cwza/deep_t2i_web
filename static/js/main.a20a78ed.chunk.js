(this.webpackJsonpdeep_t2i_web=this.webpackJsonpdeep_t2i_web||[]).push([[0],{28:function(e,a,t){e.exports=t.p+"static/media/loading.c25f5003.svg"},32:function(e,a,t){e.exports=t(45)},37:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),i=(t(37),t(38),t(14)),u=t(8),o=t(7),s=t(31),m=t(30),h=t(23),d=t(18),b=t(24),p=t(6),f=t(10),E=t(19),g=t(22),y=t.n(g),w=t(27),v="mock",k="dev",j="prod",O=function(){var e=Object(w.a)(y.a.mark((function e(a,t,n){var r,l,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",e.t0="prod",e.next=e.t0===v?4:e.t0===k?5:e.t0===j?7:9;break;case 4:return e.abrupt("return",Promise.resolve("".concat("/deep_t2i_web","/").concat(t,"_mock.jpg")));case 5:return r="http://127.0.0.1:5000",e.abrupt("break",10);case 7:return r="https://deep-t2i-server-s6lfptytnq-uc.a.run.app",e.abrupt("break",10);case 9:throw Error("No such server: ".concat("prod"));case 10:return r+="/".concat(t),l={token:a,cap:n},e.next=14,fetch(r,{method:"POST",body:JSON.stringify(l),headers:new Headers({"Content-Type":"application/json"})});case 14:if(!(c=e.sent).ok){e.next=21;break}return e.next=18,c.text();case 18:return e.abrupt("return",e.sent);case 21:return e.t1=Error,e.next=24,c.text();case 24:throw e.t2=e.sent,(0,e.t1)(e.t2);case 26:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),x=t(28),C=t.n(x),_="init",S="loading",A="success",N="fail",q=function(e){var a=e.state,t=e.url,n=e.errorMsg,l="anime_heads"===e.mode?"128":"256",c=l;switch(a){case _:return r.a.createElement("div",null);case S:return r.a.createElement(h.a,{src:C.a,height:l,width:c});case A:return r.a.createElement(h.a,{src:t,height:l,width:c});case N:return r.a.createElement(i.a,{variant:"danger"},n);default:return r.a.createElement("div",null)}},M=function(e){var a=e.mode,t=e.cap,l=Object(n.useRef)(null),c=Object(n.useState)(null),i=Object(o.a)(c,2),h=i[0],d=i[1],b=Object(n.useState)({state:"init",url:"",errorMsg:""}),f=Object(o.a)(b,2),E=f[0],g=f[1],y=function(){return null===h||E.state===S};return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(s.a,{ref:l,sitekey:"6Lcb_fUUAAAAADgVNuvS161lQDZKs8G62lnBYqLN",onChange:function(e){return d(e)}}),r.a.createElement(m.a,{className:"btn-block",variant:"primary",type:"button",disabled:y(),onClick:function(){g(Object(u.a)(Object(u.a)({},E),{},{state:S})),O(h,a,t).then((function(e){g(Object(u.a)(Object(u.a)({},E),{},{state:A,url:e}))})).catch((function(e){g(Object(u.a)(Object(u.a)({},E),{},{state:N,errorMsg:e.message}))})).finally((function(){null!==l&&null!==l.current&&l.current.reset(),d(null)}))}},y()?"Please Click Recaptcha":"Get Image")),r.a.createElement(p.a,null,r.a.createElement(q,Object.assign({},E,{mode:a}))))},B=function(){var e=["orange hair","white hair","aqua hair","gray hair","green hair","red hair","purple hair","pink hair","blue hair","black hair","brown hair","blonde hair"],a=["black eyes","orange eyes","purple eyes","pink eyes","yellow eyes","aqua eyes","green eyes","brown eyes","red eyes","blue eyes"],t=Object(n.useState)(e[4]),l=Object(o.a)(t,2),c=l[0],i=l[1],u=Object(n.useState)(a[2]),s=Object(o.a)(u,2),m=s[0],h=s[1];return r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement("h2",null,"Anime Face")),r.a.createElement(p.a,null,r.a.createElement("h4",null,"Generate an anime face by machine. You can specify hair and eye color.")),r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(d.a.Control,{as:"select",defaultValue:c,onChange:function(e){return i(e.target.value)}},e.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)})))),r.a.createElement(f.a,null,r.a.createElement(d.a.Control,{as:"select",defaultValue:m,onChange:function(e){return h(e.target.value)}},a.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)}))))),r.a.createElement(M,{mode:"anime_heads",cap:"".concat(c," ").concat(m)}))},G=function(){var e=["this bird has a green crown, black wings and a yellow belly","the bird has a yellow crown and a black eyering that is round","a small red bird","a small orange bird","this bird has wings that are red and has a white belly","this goofy looking bird has a bright red beak and dull white and gray plumage.","this bird is white in color, with a yellow beak.","this bird is red and black in color and has a sharp black beak","a small black bird","a small yellow bird"],a=Object(n.useState)(e[0]),t=Object(o.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(e.map((function(e){return!1}))),u=Object(o.a)(i,2),s=u[0],m=u[1];return r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement("h2",null,"Birds")),r.a.createElement(p.a,null,r.a.createElement("h4",null,"Generate a bird by machine. You can specify any string that describe a bird.")),r.a.createElement(p.a,null,r.a.createElement(d.a.Control,{as:"textarea",rows:"2",value:l,onChange:function(e){c(e.target.value),m(s.map((function(e){return!1})))}})),r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Item,{key:-1,disabled:!0},"Examples:"),e.map((function(e,a){return r.a.createElement(E.a.Item,{key:a,action:!0,value:e,active:s[a],onClick:function(e){return function(e,a){c(e.target.value),m(s.map((function(e,t){return t===a})))}(e,a)}},e)}))))),r.a.createElement(M,{mode:"birds",cap:l}))};var I=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Deep_t2i simple demo site"),r.a.createElement(i.a,{variant:"warning"},"Note: The first request may be slow due to the start up of the server. (Maybe 1 min)"),r.a.createElement("hr",null),r.a.createElement(B,null),r.a.createElement("hr",null),r.a.createElement(G,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.a20a78ed.chunk.js.map